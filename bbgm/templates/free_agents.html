{% extends "league_layout.html" %}
{% set active_page = "free_agents" %}

{% block title %}Free Agents - League {{ g.league_id }} - Basketball GM{% endblock %}

{% block league_content %}
  <script type="text/javascript">
    $(document).ready(function() {
      bbgm_datatable($('#free_agents'), 4, [
        {% for player in players %}
			    [ '<a href="#"><a href="{{ url_for('player_', league_id=g.league_id, pid=player.pid) }}">{{ player.name }}</a></a>', '{{ player.position }}', '{{ player.age }}', '{{ player.overall }}', '{{ player.potential }}', '{% if player.min %} {{ player.min|float|round(1) }} {% endif %}', '{% if player.points %} {{ player.points|float|round(1) }} {% endif %}', '{% if player.rebounds %} {{ player.rebounds|float|round(1) }} {% endif %}', '{% if player.ast %} {{ player.ast|float|round(1) }} {% endif %}', '${{ player.contract_amount|float|round(3) }}M through {{ player.contract_expiration }}', '<form action="{{ url_for('negotiation', league_id=g.league_id, pid=player.pid) }}" method="POST" style="margin: 0"><input type="hidden" name="new" value="1"><button type="submit" class="btn btn-mini btn-primary">Negotiate</button></form>' ],
        {% endfor %}
		  ]);
    } );
  </script>

  <h1>Free Agents</h1>

  <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed" id="free_agents">
  <thead>
    <tr><th>Name</th><th title="Position">Pos</th><th>Age</th><th title="Overall">Ovr</th><th title="Potential">Pot</th><th title="Minutes Per Game">Min</th><th title="Points Per Game">Pts</th><th title="Rebounds Per Game">Reb</th><th title="Assists Per Game">Ast</th><th>Asking for</th><th>Negotiate</th></tr>
  </thead>
  </table>
{% endblock %}
