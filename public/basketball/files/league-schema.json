{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://play.basketball-gm.com/files/league-schema.json",
    "title": "Basketball GM League File Schema",
    "description": "For use at https://play.basketball-gm.com/",

    "definitions": {
        "budgetItem": {
            "type": "object",
            "properties": {
                "amount": {
                    "type": "number",
                    "minimum": 0
                },
                "rank": {
                    "type": "integer",
                    "minimum": 1
                }
            },
            "required": ["amount", "rank"]
        },
        "playerContract": {
            "type": "object",
            "properties": {
                "amount": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "exp": {
                    "type": "string"
                }
            },
            "required": ["amount", "exp"]
        },
        "playerInjury": {
            "type": "object",
            "properties": {
                "gamesRemaining": {
                    "type": "integer",
                    "exclusiveMinimum": 0
                },
                "type": {
                    "type": "string"
                }
            },
            "required": ["gamesRemaining", "type"]
        },
        "playoffSeriesTeam": {
            "type": "object",
            "properties": {
                "cid": {
                    "type": "integer"
                },
                "seed": {
                    "type": "integer",
                    "minimum": 1
                },
                "tid": {
                    "type": "integer"
                },
                "winp": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                },
                "won": {
                    "type": "integer",
                    "minimum": 0
                }
            },
            "required": ["cid", "seed", "tid", "winp", "won"]
        },
        "playerSkill": {
            "type": "string",
            "enum": ["3", "A", "B", "Di", "Dp", "Po", "Ps", "R"]
        },
        "tradeTeam": {
            "type": "object",
            "properties": {
                "dpids": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "pids": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "tid": {
                    "type": "integer"
                }
            },
            "required": ["dpids", "pids", "tid"]
        }
    },

    "type": "object",

    "properties": {
        "version": {
            "type": "integer"
        },
        "startingSeason": {
            "type": "integer"
        },
        "awards": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {}
            }
        },
        "draftPicks": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "dpid": {
                        "type": "integer"
                    },
                    "tid": {
                        "type": "integer"
                    },
                    "originalTid": {
                        "type": "integer"
                    },
                    "round": {
                        "type": "integer",
                        "minimum": 1
                    },
                    "pick": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "season": {
                        "type": ["integer", "string"]
                    }
                },
                "required": ["tid", "originalTid", "round", "season"]
            }
        },
        "draftLotteryResults": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "season": {
                        "type": "integer"
                    },
                    "result": {
                        "type": "array",
                        "items": {
                            "tid": {
                                "type": "integer"
                            },
                            "originalTid": {
                                "type": "integer"
                            },
                            "chances": {
                                "type": "integer",
                                "minimum": 1
                            },
                            "pick": {
                                "type": "integer",
                                "minimum": 1
                            },
                            "won": {
                                "type": "integer",
                                "minimum": 0
                            },
                            "lost": {
                                "type": "integer",
                                "minimum": 0
                            }
                        },
                        "required": [
                            "tid",
                            "originalTid",
                            "chances",
                            "won",
                            "lost"
                        ]
                    }
                },
                "required": ["season", "result"]
            }
        },
        "events": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {}
            }
        },
        "gameAttributes": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "aiTrades": {
                        "type": "boolean"
                    },
                    "autoDeleteOldBoxScores": {
                        "type": "boolean"
                    },
                    "brotherRate": {
                        "type": "number",
                        "minimum": 0
                    },
                    "homeCourtAdvantage": {
                        "type": "number"
                    },
                    "confs": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "cid": {
                                    "type": "integer"
                                },
                                "name": {
                                    "type": "string"
                                }
                            },
                            "required": ["cid", "name"]
                        }
                    },
                    "daysLeft": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "disableInjuries": {
                        "type": "boolean"
                    },
                    "divs": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "did": {
                                    "type": "integer"
                                },
                                "cid": {
                                    "type": "integer"
                                },
                                "name": {
                                    "type": "string"
                                }
                            },
                            "required": ["did", "cid", "name"]
                        }
                    },
                    "gameOver": {
                        "type": "boolean"
                    },
                    "godMode": {
                        "type": "boolean"
                    },
                    "godModeInPast": {
                        "type": "boolean"
                    },
                    "gracePeriodEnd": {
                        "type": "boolean"
                    },
                    "injuryRate": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "leagueName": {
                        "type": "string"
                    },
                    "lid": {
                        "type": "integer"
                    },
                    "luxuryPayroll": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "luxuryTax": {
                        "type": "number",
                        "minimum": 0
                    },
                    "maxContract": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "maxRosterSize": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "minContract": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "minPayroll": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "minRosterSize": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "names": {
                        "type": "object",
                        "properties": {
                            "first": {},
                            "last": {}
                        },
                        "required": ["first", "last"]
                    },
                    "nextPhase": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 8
                    },
                    "numGames": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "numGamesPlayoffSeries": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "minItems": 1
                    },
                    "numTeams": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "ownerMood": {
                        "type": "object",
                        "properties": {
                            "wins": {
                                "type": "number"
                            },
                            "playoffs": {
                                "type": "number"
                            },
                            "money": {
                                "type": "number"
                            }
                        },
                        "required": ["wins", "playoffs", "money"]
                    },
                    "phase": {
                        "type": "integer",
                        "minimum": -1,
                        "maximum": 8
                    },
                    "quarterLength": {
                        "type": "number",
                        "minimum": 0
                    },
                    "salaryCap": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "season": {
                        "type": "integer"
                    },
                    "showFirstOwnerMessage": {
                        "type": "boolean"
                    },
                    "sonRate": {
                        "type": "number",
                        "minimum": 0
                    },
                    "startingSeason": {
                        "type": "integer"
                    },
                    "stopOnInjury": {
                        "type": "boolean"
                    },
                    "stopOnInjuryGames": {
                        "type": "integer"
                    },
                    "teamAbbrevsCache": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "teamNamesCache": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "teamRegionsCache": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "tragicDeathRate": {
                        "type": "number",
                        "minimum": 0
                    },
                    "userTid": {
                        "type": "integer"
                    },
                    "userTids": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "minItems": 1
                    }
                }
            }
        },
        "games": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "att": {
                        "type": "integer"
                    },
                    "gid": {
                        "type": "integer"
                    },
                    "lost": {
                        "type": "object",
                        "properties": {
                            "tid": {
                                "type": "integer"
                            },
                            "pts": {
                                "type": "integer"
                            }
                        },
                        "required": ["tid", "pts"]
                    },
                    "playoffs": {
                        "type": "boolean"
                    },
                    "overtimes": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "season": {
                        "type": "integer"
                    },
                    "teams": {
                        "type": "array",
                        "items": {},
                        "minItems": 2,
                        "maxItems": 2
                    },
                    "won": {
                        "type": "object",
                        "properties": {
                            "tid": {
                                "type": "integer"
                            },
                            "pts": {
                                "type": "integer"
                            }
                        },
                        "required": ["tid", "pts"]
                    }
                },
                "required": [
                    "att",
                    "lost",
                    "playoffs",
                    "overtimes",
                    "season",
                    "teams",
                    "won"
                ]
            }
        },
        "messages": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "mid": {
                        "type": "integer"
                    },
                    "from": {
                        "type": "string"
                    },
                    "read": {
                        "type": "boolean"
                    },
                    "text": {
                        "type": "string"
                    },
                    "year": {
                        "type": "integer"
                    }
                },
                "required": ["from", "read", "text", "year"]
            }
        },
        "negotiations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "pid": {
                        "type": "integer"
                    },
                    "tid": {
                        "type": "integer"
                    },
                    "resigning": {
                        "type": "boolean"
                    }
                },
                "required": ["pid", "tid", "resigning"]
            }
        },
        "playerFeats": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "fid": {
                        "type": "integer"
                    },
                    "pid": {
                        "type": "integer"
                    },
                    "name": {
                        "type": "string"
                    },
                    "pos": {
                        "type": "string"
                    },
                    "season": {
                        "type": "integer"
                    },
                    "tid": {
                        "type": "integer"
                    },
                    "oppTid": {
                        "type": "integer"
                    },
                    "playoffs": {
                        "type": "boolean"
                    },
                    "gid": {
                        "type": "integer"
                    },
                    "stats": {},
                    "won": {
                        "type": "boolean"
                    },
                    "score": {
                        "type": "string"
                    },
                    "overtimes": {
                        "type": "integer",
                        "minimum": 0
                    }
                },
                "required": [
                    "pid",
                    "name",
                    "pos",
                    "season",
                    "tid",
                    "oppTid",
                    "playoffs",
                    "gid",
                    "stats",
                    "won",
                    "score",
                    "overtimes"
                ]
            }
        },
        "players": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "awards": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "season": {
                                    "type": "integer"
                                },
                                "type": {
                                    "type": "string"
                                }
                            },
                            "required": ["season", "type"]
                        }
                    },
                    "born": {
                        "type": "object",
                        "properties": {
                            "year": {
                                "type": "integer"
                            },
                            "loc": {
                                "type": "string"
                            }
                        },
                        "required": ["year", "loc"]
                    },
                    "college": {
                        "type": "string"
                    },
                    "contract": {
                        "ref": "#/definitions/playerContract"
                    },
                    "diedYear": {
                        "type": "integer"
                    },
                    "draft": {
                        "type": "object",
                        "properties": {
                            "round": {
                                "type": "integer"
                            },
                            "pick": {
                                "type": "integer"
                            },
                            "tid": {
                                "type": "integer"
                            },
                            "originalTid": {
                                "type": "integer"
                            },
                            "year": {
                                "type": "integer"
                            },
                            "pot": {
                                "type": "integer"
                            },
                            "ovr": {
                                "type": "integer"
                            },
                            "skills": {
                                "type": "array",
                                "items": {
                                    "ref": "#/definitions/playerSkill"
                                }
                            }
                        },
                        "required": ["year"]
                    },
                    "face": {},
                    "firstName": {
                        "type": "string"
                    },
                    "freeAgentMood": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        }
                    },
                    "gamesUntilTradable": {
                        "type": "integer"
                    },
                    "hgt": {
                        "type": "number"
                    },
                    "hof": {
                        "type": "boolean"
                    },
                    "imgURL": {
                        "type": "string"
                    },
                    "injury": {
                        "ref": "#/definitions/playerInjury"
                    },
                    "lastName": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "pid": {
                        "type": "integer"
                    },
                    "pos": {
                        "type": "string"
                    },
                    "ptModifier": {
                        "type": "number"
                    },
                    "ratings": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "blk": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "diq": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "dnk": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "drb": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "endu": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "fg": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "ft": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "fuzz": {
                                    "type": "number"
                                },
                                "hgt": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "ins": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "jmp": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "oiq": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "ovr": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "pos": {
                                    "type": "string"
                                },
                                "pot": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "pss": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "reb": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "season": {
                                    "type": "integer"
                                },
                                "spd": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "skills": {
                                    "type": "array",
                                    "items": {
                                        "ref": "#/definitions/playerSkill"
                                    }
                                },
                                "stl": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "stre": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "tp": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                }
                            },
                            "required": [
                                "dnk",
                                "drb",
                                "endu",
                                "fg",
                                "ft",
                                "hgt",
                                "ins",
                                "jmp",
                                "pss",
                                "reb",
                                "spd",
                                "stre",
                                "tp"
                            ]
                        }
                    },
                    "relatives": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "type": {
                                    "type": "string",
                                    "enum": ["brother", "father", "son"]
                                },
                                "pid": {
                                    "type": "integer"
                                },
                                "name": {
                                    "type": "string"
                                }
                            },
                            "required": ["type", "pid", "name"]
                        }
                    },
                    "retiredYear": {
                        "type": ["integer", "null"]
                    },
                    "rosterOrder": {
                        "type": "integer"
                    },
                    "salaries": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "amount": {
                                    "type": "number"
                                },
                                "season": {
                                    "type": "integer"
                                }
                            },
                            "required": ["amount", "season"]
                        }
                    },
                    "stats": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {}
                        }
                    },
                    "statsTids": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        }
                    },
                    "tid": {
                        "type": "integer"
                    },
                    "value": {
                        "type": "number"
                    },
                    "valueNoPot": {
                        "type": "number"
                    },
                    "valueFuzz": {
                        "type": "number"
                    },
                    "valueNoPotFuzz": {
                        "type": "number"
                    },
                    "valueWithContract": {
                        "type": "number"
                    },
                    "watch": {
                        "type": "boolean"
                    },
                    "weight": {
                        "type": "number"
                    },
                    "yearsFreeAgent": {
                        "type": "integer"
                    }
                },
                "required": ["ratings", "tid"]
            }
        },
        "playoffSeries": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "season": {
                        "type": "integer"
                    },
                    "currentRound": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "series": {
                        "type": "array",
                        "items": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "home": {
                                        "ref": "#/definitions/playoffSeriesTeam"
                                    },
                                    "away": {
                                        "ref": "#/definitions/playoffSeriesTeam"
                                    }
                                }
                            }
                        }
                    }
                },
                "required": ["season", "currentRound", "series"]
            }
        },
        "releasedPlayers": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "rid": {
                        "type": "integer"
                    },
                    "pid": {
                        "type": "integer"
                    },
                    "tid": {
                        "type": "integer"
                    },
                    "contract": {
                        "ref": "#/definitions/playerContract"
                    }
                },
                "required": ["pid", "tid", "contract"]
            }
        },
        "schedule": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "awayTid": {
                        "type": "integer"
                    },
                    "homeTid": {
                        "type": "integer"
                    }
                },
                "required": ["awayTid", "homeTid"]
            }
        },
        "teams": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "tid": {
                        "type": "integer"
                    },
                    "cid": {
                        "type": "integer"
                    },
                    "did": {
                        "type": "integer"
                    },
                    "region": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "abbrev": {
                        "type": "string"
                    },
                    "imgURL": {
                        "type": "string"
                    },
                    "budget": {},
                    "strategy": {},
                    "pop": {
                        "type": "number",
                        "minimum": 0
                    },
                    "stadiumCapacity": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "seasons": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "tid": {
                                    "type": "integer"
                                },
                                "season": {
                                    "type": "integer"
                                },
                                "gp": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "gpHome": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "att": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "cash": {
                                    "type": "number"
                                },
                                "won": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "lost": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "wonHome": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "lostHome": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "wonAway": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "lostAway": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "wonDiv": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "lostDiv": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "wonConf": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "lostConf": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "lastTen": {
                                    "type": "array",
                                    "items": {
                                        "type": "integer",
                                        "minimum": 0,
                                        "maximum": 1
                                    }
                                },
                                "streak": {
                                    "type": "integer"
                                },
                                "playoffRoundsWon": {
                                    "type": "integer",
                                    "minimum": -1
                                },
                                "hype": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1
                                },
                                "pop": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "stadiumCapacity": {
                                    "type": "integer",
                                    "minimum": 0
                                },
                                "revenues": {
                                    "type": "object",
                                    "properties": {
                                        "luxuryTaxShare": {
                                            "ref": "#/definitions/budgetItem"
                                        },
                                        "merch": {
                                            "ref": "#/definitions/budgetItem"
                                        },
                                        "sponsor": {
                                            "ref": "#/definitions/budgetItem"
                                        },
                                        "ticket": {
                                            "ref": "#/definitions/budgetItem"
                                        },
                                        "nationalTv": {
                                            "ref": "#/definitions/budgetItem"
                                        },
                                        "localTv": {
                                            "ref": "#/definitions/budgetItem"
                                        }
                                    },
                                    "required": [
                                        "luxuryTaxShare",
                                        "merch",
                                        "sponsor",
                                        "ticket",
                                        "nationalTv",
                                        "localTv"
                                    ]
                                },
                                "expenses": {
                                    "type": "object",
                                    "properties": {
                                        "salary": {
                                            "ref": "#/definitions/budgetItem"
                                        },
                                        "luxuryTax": {
                                            "ref": "#/definitions/budgetItem"
                                        },
                                        "minTax": {
                                            "ref": "#/definitions/budgetItem"
                                        },
                                        "scouting": {
                                            "ref": "#/definitions/budgetItem"
                                        },
                                        "coaching": {
                                            "ref": "#/definitions/budgetItem"
                                        },
                                        "health": {
                                            "ref": "#/definitions/budgetItem"
                                        },
                                        "facilities": {
                                            "ref": "#/definitions/budgetItem"
                                        }
                                    },
                                    "required": [
                                        "salary",
                                        "luxuryTax",
                                        "minTax",
                                        "scouting",
                                        "coaching",
                                        "health",
                                        "facilities"
                                    ]
                                },
                                "payrollEndOfSeason": {
                                    "type": "integer"
                                }
                            },
                            "required": [
                                "season",
                                "gp",
                                "gpHome",
                                "att",
                                "cash",
                                "won",
                                "lost",
                                "wonHome",
                                "lostHome",
                                "wonAway",
                                "lostAway",
                                "wonDiv",
                                "lostDiv",
                                "wonConf",
                                "lostConf",
                                "lastTen",
                                "streak",
                                "playoffRoundsWon",
                                "hype",
                                "pop",
                                "revenues",
                                "expenses",
                                "payrollEndOfSeason"
                            ]
                        }
                    },
                    "stats": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {}
                        }
                    }
                },
                "required": ["cid", "did", "region", "name", "abbrev"]
            }
        },
        "trade": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "rid": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 0
                    },
                    "teams": {
                        "type": "array",
                        "items": [
                            {
                                "ref": "#/definitions/tradeTeam"
                            },
                            {
                                "ref": "#/definitions/tradeTeam"
                            }
                        ]
                    }
                },
                "required": ["rid", "teams"]
            },
            "maxItems": 1
        }
    }
}
