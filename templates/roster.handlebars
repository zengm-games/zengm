<form action="/l/{{lid}}/roster" method="GET" class="form-inline pull-right">
  <select id="roster-select-team" name="team" class="team">
    {{#teams}}
      <option value="{{abbrev}}"{{#if selected}} selected="selected"{{/if}}}>{{region}} {{name}}</option>
    {{/teams}}
  </select>
  <select id="roster-select-season" name="season" class="season">
    {{#seasons}}
      <option value="{{season}}"{{#if selected}} selected="selected"{{/if}}>{{season}} season</option>
    {{/seasons}}
  </select>
</form>

<h1>{{team.region}} {{team.name}} Roster {{new_window}}</h1>
<p>More: <a href="/l/{{lid}}/team_finances/{{team.abbrev}}">Finances</a> | <a href="/l/{{lid}}/game_log/{{team.abbrev}}/{{season}}">Game Log</a></p>

{{#if currentSeason}}
  <p>{{numRosterSpots}} open roster spots<br>
  Payroll: {{currency payroll "M"}}<br>
  Salary cap: {{currency salaryCap "M"}}<br>
  Cash: {{currency team.cash "M"}} (used for buying out players)</p>
{{/if}}

{{#if sortable}}
  <p>Drag and drop row handles to move players between the starting lineup (<span class="roster_gs">&#9632;</span>) and the bench (<span class="roster_bench">&#9632;</span>).</p>
  <p><button class="btn" id="roster-auto-sort">Auto sort roster</button></p>
{{/if}}

<p>
<table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed" id="roster">
<thead>
  <tr>{{#if sortable}}<th></th>{{/if}}<th>Name</th><th title="Position">Pos</th><th>Age</th><th title="Overall Rating">Ovr</th><th title="Potential Rating">Pot</th>{{#if currentSeason}}<th>Contract</th>{{/if}}<th title="Minutes Per Game">Min</th><th title="Points Per Game">Pts</th><th title="Rebounds Per Game">Reb</th><th title="Assists Per Game">Ast</th><th title="Player Efficiency Rating">PER</th>{{#if sortable}}<th>Release</th><th>Buy out</th>{{/if}}{{#if showTradeFor}}<th>Trade For</th>{{/if}}</tr>
</thead>
<tbody>
  {{#players}}
    <tr id="roster_{{pid}}"{{#if separator}} class="separator"{{/if}}>{{#if ../sortable}}<td class="roster_handle"></td>{{/if}}<td>{{playerNameLabels pid name injury ratings.skills}}</td><td>{{pos}}</td><td>{{age}}</td><td>{{ratings.ovr}}</td><td>{{ratings.pot}}</td>{{#if ../currentSeason}}<td>{{currency contractAmount "M"}} thru {{contractExp}}</td>{{/if}}<td>{{round stats.min 1}}</td><td>{{round stats.pts 1}}</td><td>{{round stats.trb 1}}</td><td>{{round stats.ast 1}}</td><td>{{round stats.per 1}}</td>{{#if ../sortable}}<td><button class="btn btn-mini" data-action="release" data-player-id="{{pid}}" data-player-name="{{name}}" data-contract-expiration="{{contractExp}}"{{#unless canRelease}} disabled="disabled"{{/unless}}>Release</button></td><td><button class="btn btn-mini" data-action="buyOut" data-player-id="{{pid}}" data-player-name="{{name}}" data-cash-owed="{{round cashOwed 2}}"{{#unless canBuyOut}} disabled="disabled"{{/unless}}>Buy out</button></td>{{/if}}{{#if ../showTradeFor}}<td><form action="/l/{{../../lid}}/trade" method="POST" style="margin: 0"><input type="hidden" name="pid" value="{{../pid}}"><button type="submit" class="btn btn-mini">Trade For</button></form></td>{{/if}}</tr>
  {{/players}}
</tbody>
</table>
</p>
