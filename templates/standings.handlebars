<script type="text/javascript">
$(document).ready(function() {
    bbgm.dropdown($('#standings_select_season'));
});
</script>

<form action="/l/{{g.lid}}/standings" method="GET" class="form-inline pull-right">
  <select id="standings_select_season" name="season" class="season">
    {{#seasons}}
      <option value="{{season}}"{{#if selected}} selected="selected"{{/if}}>{{season}} season</option>
    {{/seasons}}
  </select>
</form>

<h1>Standings</h1>
<!-- ko foreach: confs -->
  <h2 data-bind="text: name"></h2>
  <div class="row-fluid">
    <div class="span9">
      <!-- ko foreach: divs -->
        <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed">
        <thead>
          <tr><th width="100%" data-bind="text: name"></th><th>W</th><th>L</th><th>Pct</th><th>GB</th><th>Home</th><th>Road</th><th>Div</th><th>Conf</th><th>Streak</th><th>L10</th></tr>
        </thead>
        <tbody data-bind="template: {name: 'div-row-template', foreach: teams}"></tbody>
        </table>
      <!-- /ko -->
    </div>

    <div class="span3">
      <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed">
      <thead>
        <tr><th width="100%">Team</th><th align="right">GB</th></tr>
      </thead>
      <tbody data-bind="template: {name: 'conf-row-template', foreach: teams}"></tbody>
      </table>
    </div>
  </div>
<!-- /ko -->

{{#confs}}
  <h2>{{name}}</h2>
  <div class="row-fluid">
    <div class="span9">
      {{#divs}}
          <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed">
          <thead>
            <tr><th width="100%">{{name}}</th><th>W</th><th>L</th><th>Pct</th><th>GB</th><th>Home</th><th>Road</th><th>Div</th><th>Conf</th><th>Streak</th><th>L10</th></tr>
          </thead>
          <tbody>
          {{#teams}}
            <tr><td><a href="/l/{{../../../g.lid}}/roster/{{abbrev}}">{{region}} {{name}}</a></td><td>{{won}}</td><td>{{lost}}</td><td>{{roundWinp winp}}</td><td>GB</td><td>{{wonHome}}-{{lostHome}}</td><td>{{wonRoad}}-{{lostRoad}}</td><td>{{wonDiv}}-{{lostDiv}}</td><td>{{wonConf}}-{{lostConf}}</td><td>Streak</td><td>L10</td></tr>
          {{/teams}}
          </tbody>
          </table>
      {{/divs}}
    </div>

    <div class="span3">
      <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed">
      <thead>
        <tr><th width="100%">Team</th><th align="right">GB</th></tr>
      </thead>
      <tbody>
      {{#teams}}
        <tr><td>1. <a href="/l/{{../../g.lid}}/roster/{{abbrev}}">{{region}}</a></td><td align="right">GB</td></tr>
      {{/teams}}
      </tbody>
      </table>
    </div>
  </div>
{{/confs}}

<script type="text/html" id="div-row-template">
  <tr><td><a href="/l/{{g.lid}}/roster/{{abbrev}}"><span data-bind="text: region"></span> <span data-bind="text: name"></span></a></td><td data-bind="text: won"> </td><td data-bind="text: lost"> </td><td>{{roundWinp winp}}</td><td>GB</td><td><span data-bind="text: wonHome"></span>-<span data-bind="text: lostHome"></span></td><td><span data-bind="text: wonAway"></span>-<span data-bind="text: lostAway"></span></td><td><span data-bind="text: wonDiv"></span>-<span data-bind="text: lostDiv"></td><td><span data-bind="text: wonConf"></span>-<span data-bind="text: lostConf"></td><td>Streak</td><td>L10</td></tr>
</script>

<script type="text/html" id="conf-row-template">
  <tr><td>1. <a data-bind="attr: {href: '/l/{{g.lid}}/roster/' + abbrev}"><span data-bind="text: region"></span></a></td><td align="right">GB</td></tr>
</script>